{"ast":null,"code":"import { ethers, Contract } from \"ethers\"; // import web3 from \"web3\";\n\nimport MyToken from \"../contracts/MyToken.json\";\n\nconst getArtist = async mytoken => {\n  return await mytoken._artist;\n};\n\nconst getBalance = async (mytoken, account) => {\n  return await ethers.utils.formatEther(mytoken.balanceOf(account));\n};\n\nconst getTokenBlockchain = () => new Promise((resolve, reject) => {\n  window.addEventListener(\"load\", async () => {\n    console.log(`window.ethereum: ${window.ethereum}`);\n\n    if (window.ethereum) {\n      await window.ethereum.enable();\n      const provider = new ethers.providers.Web3Provider(window.ethereum); // console.log(`provider: ${provider}`);\n\n      const signer = provider.getSigner(); // console.log(`signer:${signer}`);\n\n      const signerAddress = await signer.getAddress(); // console.log(`signerAddress:${signerAddress}`);\n\n      const mytoken = new Contract(MyToken.address, MyToken.abi, signer); // console.log(`token:${token.balanceOf(signerAddress)}`);\n\n      resolve({\n        signerAddress,\n        mytoken\n      });\n    }\n\n    resolve({\n      signerAddress: undefined,\n      mytoken: undefined\n    });\n  });\n});\n\nexport { getTokenBlockchain, getBalance };","map":{"version":3,"sources":["/home/marc/EatTheBlocks/nft-royalties/frontend/src/components/token.js"],"names":["ethers","Contract","MyToken","getArtist","mytoken","_artist","getBalance","account","utils","formatEther","balanceOf","getTokenBlockchain","Promise","resolve","reject","window","addEventListener","console","log","ethereum","enable","provider","providers","Web3Provider","signer","getSigner","signerAddress","getAddress","address","abi","undefined"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,QAAjC,C,CACA;;AACA,OAAOC,OAAP,MAAoB,2BAApB;;AAEA,MAAMC,SAAS,GAAG,MAAOC,OAAP,IAAmB;AACnC,SAAO,MAAMA,OAAO,CAACC,OAArB;AACD,CAFD;;AAIA,MAAMC,UAAU,GAAG,OAAOF,OAAP,EAAgBG,OAAhB,KAA4B;AAC7C,SAAO,MAAMP,MAAM,CAACQ,KAAP,CAAaC,WAAb,CAAyBL,OAAO,CAACM,SAAR,CAAkBH,OAAlB,CAAzB,CAAb;AACD,CAFD;;AAIA,MAAMI,kBAAkB,GAAG,MACzB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/BC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,YAAY;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAa,oBAAmBH,MAAM,CAACI,QAAS,EAAhD;;AACA,QAAIJ,MAAM,CAACI,QAAX,EAAqB;AACnB,YAAMJ,MAAM,CAACI,QAAP,CAAgBC,MAAhB,EAAN;AACA,YAAMC,QAAQ,GAAG,IAAIrB,MAAM,CAACsB,SAAP,CAAiBC,YAArB,CAAkCR,MAAM,CAACI,QAAzC,CAAjB,CAFmB,CAGnB;;AACA,YAAMK,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf,CAJmB,CAKnB;;AACA,YAAMC,aAAa,GAAG,MAAMF,MAAM,CAACG,UAAP,EAA5B,CANmB,CAOnB;;AACA,YAAMvB,OAAO,GAAG,IAAIH,QAAJ,CAAaC,OAAO,CAAC0B,OAArB,EAA8B1B,OAAO,CAAC2B,GAAtC,EAA2CL,MAA3C,CAAhB,CARmB,CAUnB;;AAEAX,MAAAA,OAAO,CAAC;AAAEa,QAAAA,aAAF;AAAiBtB,QAAAA;AAAjB,OAAD,CAAP;AACD;;AACDS,IAAAA,OAAO,CAAC;AACNa,MAAAA,aAAa,EAAEI,SADT;AAEN1B,MAAAA,OAAO,EAAE0B;AAFH,KAAD,CAAP;AAID,GApBD;AAqBD,CAtBD,CADF;;AAyBA,SAASnB,kBAAT,EAA6BL,UAA7B","sourcesContent":["import { ethers, Contract } from \"ethers\";\n// import web3 from \"web3\";\nimport MyToken from \"../contracts/MyToken.json\";\n\nconst getArtist = async (mytoken) => {\n  return await mytoken._artist;\n};\n\nconst getBalance = async (mytoken, account) => {\n  return await ethers.utils.formatEther(mytoken.balanceOf(account));\n};\n\nconst getTokenBlockchain = () =>\n  new Promise((resolve, reject) => {\n    window.addEventListener(\"load\", async () => {\n      console.log(`window.ethereum: ${window.ethereum}`);\n      if (window.ethereum) {\n        await window.ethereum.enable();\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        // console.log(`provider: ${provider}`);\n        const signer = provider.getSigner();\n        // console.log(`signer:${signer}`);\n        const signerAddress = await signer.getAddress();\n        // console.log(`signerAddress:${signerAddress}`);\n        const mytoken = new Contract(MyToken.address, MyToken.abi, signer);\n\n        // console.log(`token:${token.balanceOf(signerAddress)}`);\n\n        resolve({ signerAddress, mytoken });\n      }\n      resolve({\n        signerAddress: undefined,\n        mytoken: undefined,\n      });\n    });\n  });\n\nexport { getTokenBlockchain, getBalance };\n"]},"metadata":{},"sourceType":"module"}
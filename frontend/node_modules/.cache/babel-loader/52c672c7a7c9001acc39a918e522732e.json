{"ast":null,"code":"import { ethers, Contract } from 'ethers';\nimport Token from '../contracts/MockToken.json';\nimport NFT from '../contracts/NFT.json';\n\nconst getBlockchain = () => new Promise((resolve, reject) => {\n  window.addEventListener('load', async () => {\n    if (window.ethereum) {\n      await window.ethereum.enable();\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const signer = provider.getSigner();\n      const signerAddress = await signer.getAddress();\n      const token = new Contract(Token.address, Token.abi, signer);\n      resolve({\n        signerAddress,\n        token\n      });\n    }\n\n    resolve({\n      signerAddress: undefined,\n      token: undefined\n    });\n  });\n});\n\nexport default getBlockchain;","map":{"version":3,"sources":["/home/marc/eattheblocks-master/screencast/379-nft-royalties/connectButton/src/components/ethereum.js"],"names":["ethers","Contract","Token","NFT","getBlockchain","Promise","resolve","reject","window","addEventListener","ethereum","enable","provider","providers","Web3Provider","signer","getSigner","signerAddress","getAddress","token","address","abi","undefined"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,QAAjC;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;;AAEA,MAAMC,aAAa,GAAG,MACpB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/BC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,YAAY;AAC1C,QAAGD,MAAM,CAACE,QAAV,EAAoB;AAClB,YAAMF,MAAM,CAACE,QAAP,CAAgBC,MAAhB,EAAN;AACA,YAAMC,QAAQ,GAAG,IAAIZ,MAAM,CAACa,SAAP,CAAiBC,YAArB,CAAkCN,MAAM,CAACE,QAAzC,CAAjB;AACA,YAAMK,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf;AACA,YAAMC,aAAa,GAAG,MAAMF,MAAM,CAACG,UAAP,EAA5B;AACA,YAAMC,KAAK,GAAG,IAAIlB,QAAJ,CACZC,KAAK,CAACkB,OADM,EAEZlB,KAAK,CAACmB,GAFM,EAGZN,MAHY,CAAd;AAMAT,MAAAA,OAAO,CAAC;AAACW,QAAAA,aAAD;AAAgBE,QAAAA;AAAhB,OAAD,CAAP;AACD;;AACDb,IAAAA,OAAO,CAAC;AAACW,MAAAA,aAAa,EAAEK,SAAhB;AAA2BH,MAAAA,KAAK,EAAEG;AAAlC,KAAD,CAAP;AACD,GAfD;AAgBD,CAjBD,CADF;;AAoBA,eAAelB,aAAf","sourcesContent":["import { ethers, Contract } from 'ethers';\nimport Token from '../contracts/MockToken.json';\nimport NFT from '../contracts/NFT.json';\n\nconst getBlockchain = () =>\n  new Promise((resolve, reject) => {\n    window.addEventListener('load', async () => {\n      if(window.ethereum) {\n        await window.ethereum.enable();\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const signer = provider.getSigner();\n        const signerAddress = await signer.getAddress();\n        const token = new Contract(\n          Token.address,\n          Token.abi,\n          signer\n        );\n\n        resolve({signerAddress, token});\n      }\n      resolve({signerAddress: undefined, token: undefined});\n    });\n  });\n\nexport default getBlockchain;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { ethers, Contract } from \"ethers\";\nimport Token from \"../contracts/MockToken.json\";\nimport nftToken from \"../contracts/NFT.json\";\n\nconst getTokenBlockchain = () => new Promise((resolve, reject) => {\n  window.addEventListener(\"load\", async () => {\n    console.log(`window.ethereum: ${window.ethereum}`);\n\n    if (window.ethereum) {\n      await window.ethereum.enable();\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      console.log(`provider: ${provider}`);\n      const signer = provider.getSigner();\n      console.log(`signer:${signer}`);\n      const signerAddress = await signer.getAddress();\n      console.log(`signerAddress:${signerAddress}`);\n      const token = new Contract(Token.address, Token.abi, signer);\n      const nfttoken = new Contract(nftToken.address, nftToken.abi, signer);\n      console.log(`token:${token.balanceOf(signerAddress).call()}`);\n      console.log(`nfttoken:${nfttoken}`);\n      resolve({\n        signerAddress,\n        token,\n        nfttoken\n      });\n    }\n\n    resolve({\n      signerAddress: undefined,\n      token: undefined,\n      nfttoken: undefined\n    });\n  });\n});\n\nexport default getTokenBlockchain;","map":{"version":3,"sources":["/home/marc/eattheblocks-master/screencast/379-nft-royalties/frontend/src/components/token.js"],"names":["ethers","Contract","Token","nftToken","getTokenBlockchain","Promise","resolve","reject","window","addEventListener","console","log","ethereum","enable","provider","providers","Web3Provider","signer","getSigner","signerAddress","getAddress","token","address","abi","nfttoken","balanceOf","call","undefined"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,QAAjC;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;;AAEA,MAAMC,kBAAkB,GAAG,MACzB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/BC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,YAAY;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAa,oBAAmBH,MAAM,CAACI,QAAS,EAAhD;;AACA,QAAIJ,MAAM,CAACI,QAAX,EAAqB;AACnB,YAAMJ,MAAM,CAACI,QAAP,CAAgBC,MAAhB,EAAN;AACA,YAAMC,QAAQ,GAAG,IAAId,MAAM,CAACe,SAAP,CAAiBC,YAArB,CAAkCR,MAAM,CAACI,QAAzC,CAAjB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAa,aAAYG,QAAS,EAAlC;AACA,YAAMG,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAa,UAASM,MAAO,EAA7B;AACA,YAAME,aAAa,GAAG,MAAMF,MAAM,CAACG,UAAP,EAA5B;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAa,iBAAgBQ,aAAc,EAA3C;AAEA,YAAME,KAAK,GAAG,IAAIpB,QAAJ,CAAaC,KAAK,CAACoB,OAAnB,EAA4BpB,KAAK,CAACqB,GAAlC,EAAuCN,MAAvC,CAAd;AAEA,YAAMO,QAAQ,GAAG,IAAIvB,QAAJ,CAAaE,QAAQ,CAACmB,OAAtB,EAA+BnB,QAAQ,CAACoB,GAAxC,EAA6CN,MAA7C,CAAjB;AAEAP,MAAAA,OAAO,CAACC,GAAR,CAAa,SAAQU,KAAK,CAACI,SAAN,CAAgBN,aAAhB,EAA+BO,IAA/B,EAAsC,EAA3D;AACAhB,MAAAA,OAAO,CAACC,GAAR,CAAa,YAAWa,QAAS,EAAjC;AACAlB,MAAAA,OAAO,CAAC;AAAEa,QAAAA,aAAF;AAAiBE,QAAAA,KAAjB;AAAwBG,QAAAA;AAAxB,OAAD,CAAP;AACD;;AACDlB,IAAAA,OAAO,CAAC;AACNa,MAAAA,aAAa,EAAEQ,SADT;AAENN,MAAAA,KAAK,EAAEM,SAFD;AAGNH,MAAAA,QAAQ,EAAEG;AAHJ,KAAD,CAAP;AAKD,GAxBD;AAyBD,CA1BD,CADF;;AA6BA,eAAevB,kBAAf","sourcesContent":["import { ethers, Contract } from \"ethers\";\nimport Token from \"../contracts/MockToken.json\";\nimport nftToken from \"../contracts/NFT.json\";\n\nconst getTokenBlockchain = () =>\n  new Promise((resolve, reject) => {\n    window.addEventListener(\"load\", async () => {\n      console.log(`window.ethereum: ${window.ethereum}`);\n      if (window.ethereum) {\n        await window.ethereum.enable();\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        console.log(`provider: ${provider}`);\n        const signer = provider.getSigner();\n        console.log(`signer:${signer}`);\n        const signerAddress = await signer.getAddress();\n        console.log(`signerAddress:${signerAddress}`);\n\n        const token = new Contract(Token.address, Token.abi, signer);\n\n        const nfttoken = new Contract(nftToken.address, nftToken.abi, signer);\n\n        console.log(`token:${token.balanceOf(signerAddress).call()}`);\n        console.log(`nfttoken:${nfttoken}`);\n        resolve({ signerAddress, token, nfttoken });\n      }\n      resolve({\n        signerAddress: undefined,\n        token: undefined,\n        nfttoken: undefined,\n      });\n    });\n  });\n\nexport default getTokenBlockchain;\n"]},"metadata":{},"sourceType":"module"}
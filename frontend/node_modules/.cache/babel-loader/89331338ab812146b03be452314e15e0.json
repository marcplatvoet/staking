{"ast":null,"code":"var _jsxFileName = \"/home/marc/EatTheBlocks/nft-royalties/frontend/src/App.js\",\n    _s2 = $RefreshSig$();\n\n//import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { React, useEffect, useState } from \"react\";\nimport { Container, Row, Col, Alert } from \"react-bootstrap\";\nimport Chain from \"./components/chain\";\nimport About from \"./pages/about\";\nimport Mint from \"./pages/mint\";\nimport Artist from \"./pages/artist\";\nimport TransferTokens from \"./pages/transfertokens\";\nimport { getTokenBlockchain } from \"./components/token\";\nimport Header from \"./header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n  const [isLogged, setIsLogged] = useState(false);\n  const [currentChainID, setCurrentChainID] = useState(-1);\n  const [page, setPage] = useState(\"\");\n  const [mytoken, setMyToken] = useState(undefined);\n  const [signerAddress, setSignerAddress] = useState(undefined);\n  useEffect(() => {\n    const init = async () => {\n      try {\n        const {\n          signerAddress,\n          mytoken\n        } = await getTokenBlockchain();\n        setMyToken(mytoken);\n        setSignerAddress(signerAddress);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    init();\n  }, []);\n  useEffect(() => {\n    window.onbeforeunload = function () {\n      return \"Prevent reload\";\n    };\n\n    window.ethereum.on(\"accountsChanged\", function (accounts, currentAccount, messages) {\n      if (accounts.length === 0) {\n        // MetaMask is locked or the user has not connected any accounts\n        setMessage(messages => [...messages, {\n          head: \"User Rejected Request\",\n          body: \"Please connect to MetaMask.\",\n          variant: \"info\"\n        }]);\n      } else if (accounts[0] !== currentAccount) {\n        console.log(accounts[0]);\n        console.log(messages);\n        setCurrentAccount(() => accounts[0]);\n        setMessage(messages => [...messages, {\n          head: \"Account Changed\",\n          body: `addres: ${accounts[0]}`,\n          variant: \"warning\"\n        }]);\n      }\n    });\n    window.ethereum.on(\"chainChanged\", _chainId => {\n      console.log(_chainId);\n      setCurrentChainID(() => parseInt(_chainId, 16)); //window.location.reload()\n    });\n  }, []);\n  const [messages, setMessage] = useState([]);\n\n  const addMessage = item => {\n    setMessage(item);\n  };\n\n  const Message = props => {\n    _s();\n\n    const [show, setShow] = useState(true);\n\n    const close = () => {\n      setShow(false);\n      setMessage(messages.filter((item, index) => index !== props.id));\n    };\n\n    if (show) {\n      return /*#__PURE__*/_jsxDEV(Alert, {\n        variant: props.variant ? props.variant : \"dark\",\n        onClose: close,\n        dismissible: true,\n        children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n          children: props.head\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: props.body\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    }\n  };\n\n  _s(Message, \"vfh/DqFDMxhJHyczn42K3OB7AlU=\");\n\n  function onLinkClick(navpage) {\n    console.log(navpage);\n    setPage(navpage);\n  }\n\n  if (typeof mytoken === \"undefined\") {\n    return \"Loading...\";\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      onLinkClick: onLinkClick,\n      currentChainID: currentChainID,\n      isLogged: isLogged,\n      currentAccount: currentAccount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-list\",\n      children: messages.map((item, i) => /*#__PURE__*/_jsxDEV(Message, {\n        head: item.head,\n        body: item.body,\n        variant: item.variant,\n        id: i\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: [page === \"about\" ? /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 33\n          }, this) : null, page === \"mint\" ? /*#__PURE__*/_jsxDEV(Mint, {\n            signerAddress: signerAddress,\n            mytoken: mytoken,\n            currentAccount: currentAccount,\n            addMessage: addMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this) : null, page === \"transfertokens\" ? /*#__PURE__*/_jsxDEV(TransferTokens, {\n            signerAddress: signerAddress,\n            mytoken: mytoken,\n            currentAccount: currentAccount,\n            addMessage: addMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this) : null, page === \"artist\" ? /*#__PURE__*/_jsxDEV(Artist, {\n            signerAddress: signerAddress,\n            mytoken: mytoken,\n            currentAccount: currentAccount,\n            addMessage: addMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(App, \"qseAOTyV4o6TuuxMaKLyk4h7RNo=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/marc/EatTheBlocks/nft-royalties/frontend/src/App.js"],"names":["React","useEffect","useState","Container","Row","Col","Alert","Chain","About","Mint","Artist","TransferTokens","getTokenBlockchain","Header","App","currentAccount","setCurrentAccount","isLogged","setIsLogged","currentChainID","setCurrentChainID","page","setPage","mytoken","setMyToken","undefined","signerAddress","setSignerAddress","init","e","console","log","window","onbeforeunload","ethereum","on","accounts","messages","length","setMessage","head","body","variant","_chainId","parseInt","addMessage","item","Message","props","show","setShow","close","filter","index","id","onLinkClick","navpage","map","i"],"mappings":"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","sourcesContent":["//import logo from \"./logo.svg\";\nimport \"./App.css\";\n\nimport { React, useEffect, useState } from \"react\";\nimport { Container, Row, Col, Alert } from \"react-bootstrap\";\nimport Chain from \"./components/chain\";\nimport About from \"./pages/about\";\nimport Mint from \"./pages/mint\";\nimport Artist from \"./pages/artist\";\nimport TransferTokens from \"./pages/transfertokens\";\nimport { getTokenBlockchain } from \"./components/token\";\nimport Header from \"./header\";\n\nfunction App() {\n  const [currentAccount, setCurrentAccount] = useState(\"\");\n  const [isLogged, setIsLogged] = useState(false);\n  const [currentChainID, setCurrentChainID] = useState(-1);\n  const [page, setPage] = useState(\"\");\n  const [mytoken, setMyToken] = useState(undefined);\n  const [signerAddress, setSignerAddress] = useState(undefined);\n\n  useEffect(() => {\n    const init = async () => {\n      try {\n        const { signerAddress, mytoken } = await getTokenBlockchain();\n        setMyToken(mytoken);\n        setSignerAddress(signerAddress);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n    init();\n  }, []);\n\n  useEffect(() => {\n    window.onbeforeunload = function () {\n      return \"Prevent reload\";\n    };\n    window.ethereum.on(\n      \"accountsChanged\",\n      function (accounts, currentAccount, messages) {\n        if (accounts.length === 0) {\n          // MetaMask is locked or the user has not connected any accounts\n          setMessage((messages) => [\n            ...messages,\n            {\n              head: \"User Rejected Request\",\n              body: \"Please connect to MetaMask.\",\n              variant: \"info\",\n            },\n          ]);\n        } else if (accounts[0] !== currentAccount) {\n          console.log(accounts[0]);\n          console.log(messages);\n          setCurrentAccount(() => accounts[0]);\n          setMessage((messages) => [\n            ...messages,\n            {\n              head: \"Account Changed\",\n              body: `addres: ${accounts[0]}`,\n              variant: \"warning\",\n            },\n          ]);\n        }\n      }\n    );\n\n    window.ethereum.on(\"chainChanged\", (_chainId) => {\n      console.log(_chainId);\n      setCurrentChainID(() => parseInt(_chainId, 16));\n      //window.location.reload()\n    });\n  }, []);\n\n  const [messages, setMessage] = useState([]);\n\n  const addMessage = (item) => {\n    setMessage(item);\n  };\n\n  const Message = (props) => {\n    const [show, setShow] = useState(true);\n\n    const close = () => {\n      setShow(false);\n      setMessage(messages.filter((item, index) => index !== props.id));\n    };\n\n    if (show) {\n      return (\n        <Alert\n          variant={props.variant ? props.variant : \"dark\"}\n          onClose={close}\n          dismissible\n        >\n          <Alert.Heading>{props.head}</Alert.Heading>\n          <p>{props.body}</p>\n        </Alert>\n      );\n    } else {\n      return <></>;\n    }\n  };\n\n  function onLinkClick(navpage) {\n    console.log(navpage);\n    setPage(navpage);\n  }\n\n  if (typeof mytoken === \"undefined\") {\n    return \"Loading...\";\n  }\n\n  return (\n    <>\n      <Header\n        onLinkClick={onLinkClick}\n        currentChainID={currentChainID}\n        isLogged={isLogged}\n        currentAccount={currentAccount}\n      />\n\n      <div className=\"message-list\">\n        {messages.map((item, i) => (\n          <Message\n            head={item.head}\n            body={item.body}\n            variant={item.variant}\n            id={i}\n            key={i}\n          />\n        ))}\n      </div>\n\n      <Container>\n        <Row>\n          <Col>\n            {page === \"about\" ? <About /> : null}\n            {page === \"mint\" ? (\n              <Mint\n                signerAddress={signerAddress}\n                mytoken={mytoken}\n                currentAccount={currentAccount}\n                addMessage={addMessage}\n              />\n            ) : null}\n            {page === \"transfertokens\" ? (\n              <TransferTokens\n                signerAddress={signerAddress}\n                mytoken={mytoken}\n                currentAccount={currentAccount}\n                addMessage={addMessage}\n              />\n            ) : null}\n            {page === \"artist\" ? (\n              <Artist\n                signerAddress={signerAddress}\n                mytoken={mytoken}\n                currentAccount={currentAccount}\n                addMessage={addMessage}\n              />\n            ) : null}\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}